# Russian Word Profiler - react frontend

> react frontend

## Install

Installation instructions here

# Documentation

<!-- api -->
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [functions][1]
    *   [whichBand][2]
    *   [convertToCSV][3]
    *   [downloadCSV][4]
    *   [downloadXLS][5]
    *   [splitText][6]
*   [App][7]
    *   [Initialization][8]
    *   [Examples][9]
*   [MainEditor][10]
    *   [Redux Store Interaction][11]
    *   [Parameters][12]
    *   [Examples][13]
*   [BandsBar][14]
    *   [Redux Store Interaction][15]
    *   [API Interaction][16]
    *   [Examples][17]
*   [BandConfigPanel][18]
    *   [Redux Store Interaction][19]
    *   [Parameters][20]
    *   [Examples][21]
*   [AnimationPresets][22]
*   [scaleAnimation][23]
    *   [Examples][24]
*   [fadeAnimation][25]
    *   [Examples][26]
*   [Band][27]
    *   [Redux Store Interaction][28]
    *   [Parameters][29]
    *   [Examples][30]
*   [BandColour][31]
    *   [Redux Store Interaction][32]
    *   [Dependencies][33]
    *   [Parameters][34]
    *   [Examples][35]
*   [NewBand][36]
    *   [Redux Store Interaction][37]
    *   [Examples][38]
*   [DialogBox][39]
    *   [Parameters][40]
    *   [Examples][41]
*   [ApiSettings][42]
    *   [Parameters][43]
    *   [Examples][44]
*   [FileUpload][45]
    *   [Redux Store Interaction][46]
    *   [Examples][47]
*   [FormattedOutput][48]
    *   [Redux Store Interaction][49]
    *   [Examples][50]
*   [SynonymReplacer][51]
    *   [Redux Store Interaction][52]
    *   [Parameters][53]
    *   [Examples][54]
*   [DistributionDisplay][55]
    *   [Redux Store Interaction][56]
    *   [Examples][57]
*   [DownloadButton][58]
    *   [Parameters][59]
    *   [Examples][60]
*   [BandBar][61]
    *   [Parameters][62]
    *   [Examples][63]
*   [CoverageDisplay][64]
    *   [Redux Store Interaction][65]
    *   [Examples][66]
*   [LemmaTable][67]
    *   [Redux Store Interaction][68]
    *   [Examples][69]
*   [ReduxStoreTextSlice][70]
    *   [setWordData][71]
    *   [setText][72]
    *   [setStopWords][73]
    *   [changeWord][74]
*   [ReduxStoreFrequencyBandsSlice][75]
    *   [changeColour][76]
    *   [changeTopVal][77]
    *   [changeBottomVal][78]
    *   [removeBand][79]
    *   [toggleActive][80]
    *   [addBand][81]
    *   [saveBands][82]
*   [ReduxStorestatsSlice][83]
    *   [reset][84]
    *   [setBandFrequencyDict][85]
    *   [setLemmaFrequencyDict][86]
    *   [setNotInList][87]

## functions

### whichBand

Determines the band for a given rank based on predefined bands.

#### Parameters

*   `rank` **[number][88]** The rank to be evaluated.
*   `bands` **[Object][89]** An object containing band information. Each key is a band identifier, and each value is an object with `topVal` and `bottomVal` properties.

#### Examples

```javascript
const bands = {
  "A": { topVal: 100, bottomVal: 90 },
  "B": { topVal: 89, bottomVal: 80 },
  "C": { topVal: 79, bottomVal: 70 }
};
const band = whichBand(85, bands);
console.log(band); // Output: "B"
```

Returns **([string][90] | [number][88])** The band identifier the rank falls into, or -1 if the rank does not fall into any band.

### convertToCSV

Converts a 2D array of JavaScript objects to a CSV string.

#### Parameters

*   `arr` **[Array][91]<[Array][91]<([string][90] | [number][88])>>** The 2D array of data to be converted to CSV format.

#### Examples

```javascript
const data = [
  ["name", "age"],
  ["John", 30],
  ["Jane", 25]
];
const csv = convertToCSV(data);
console.log(csv);
// Output:
// name,age
// John,30
// Jane,25
```

Returns **[string][90]** The CSV formatted string.

### downloadCSV

Triggers a download of a CSV file with the given content and filename.

#### Parameters

*   `csv` **[string][90]** The CSV string to be downloaded.
*   `filename` **[string][90]** The name of the file to be downloaded.

#### Examples

```javascript
const csv = "name,age\nJohn,30\nJane,25";
downloadCSV(csv, "data.csv");
```

### downloadXLS

Triggers a download of an XLS file with the given data and filename.

#### Dependencies

This function depends on the `XLSX` library for converting JSON data to an XLSX format.

#### Parameters

*   `data` **[Array][91]<[Object][89]>** The data to be included in the XLS file. Each object represents a row.
*   `filename` **[string][90]** The name of the file to be downloaded.

#### Examples

```javascript
const data = [
  { name: "John", age: 30 },
  { name: "Jane", age: 25 }
];
downloadXLS(data, "data.xlsx");
```

### splitText

Splits the given text into an array of word objects, preserving punctuation and formatting. Each object contains the word, its prefix, and postfix. Also returns an array of just the words.

The function handles cases where words are nested within punctuation and maintains line breaks as part of the word objects.

#### Parameters

*   `text` **[string][90]** The text to be split into word objects.

#### Examples

```javascript
const text = "...hello.. .world. sleep.";
const result = splitText(text);
console.log(result.objects);
// Output:
// [
//   { index: 0, prefix: '...', word: 'hello', postfix: '..' },
//   { index: 1, prefix: '.', word: 'world', postfix: '.' },
//   { index: 2, prefix: ' ', word: 'sleep', postfix: '.' }
// ]
console.log(result.words);
// Output:
// ['hello', 'world', 'sleep']
```

Returns **[Object][89]** An object containing:*   `objects`: An array of word objects, each with `index`, `prefix`, `word`, and `postfix`.
*   `words`: An array of just the words extracted from the text.

## App

Main application component for the Russian Word Profiler.

### Initialization

On the initial load, the application displays an alert informing users about the project's new status and requesting bug reports.

### Examples

```javascript
return (
  <App />
)
```

## MainEditor

Main editor component for text input and analysis in the Russian Word Profiler.

### Redux Store Interaction

The component uses the following parts of the Redux store:

*   `textSlice.text`: The current text input by the user.

The component dispatches the following Redux actions:

*   `setText`: Action to update the text input in the Redux store.

### Parameters

*   `props` **[Object][89]** The props for MainEditor.

    *   `props.placeholder` **[string][90]** The placeholder text for the text input area. (optional, default `"Text Here."`)

### Examples

```javascript
return (
  <MainEditor placeholder="Enter your text here." />
)
```

## BandsBar

Component for displaying and configuring the bands bar, which includes options for configuring bands and API settings, as well as profiling the text.

### Redux Store Interaction

The component uses the following parts of the Redux store:

*   `bandsSlice.bands`: An array of band objects.
*   `text.words`: The words to be profiled.
*   `text.stopWords`: The stop words to be excluded from profiling.

The component dispatches the following Redux actions:

*   `setWordData`: Action to set the word data based on the profiling response.
*   `toggleActive`: Action to toggle the active state of a band.

### API Interaction

The component interacts with the API as follows:

*   `submitHandler`: Sends a POST request to the `/scantext/` endpoint with the text and optional stop words.
    *   If the response status is 200, it dispatches `setWordData` with the received data.
    *   If the response status is not 200, it logs an error message.

### Examples

```javascript
return (
  <BandsBar />
)
```

## BandConfigPanel

Component for configuring bands in a panel, wrapped in a dialog box. The configuration is saved when the dialog box is closed.

### Redux Store Interaction

The component uses the following parts of the Redux store:

*   `bandsSlice.bands`: An array of band objects.

The component dispatches the following Redux actions:

*   `saveBands`: Action to save the current band configuration.

### Parameters

*   `props` **[Object][89]** The props for BandConfigPanel.

    *   `props.active` **[boolean][92]** Whether the dialog box is active.
    *   `props.onClose` **[Function][93]** Function to close the dialog box.

### Examples

```javascript
return (
  <BandConfigPanel active={true} onClose={() => {}} />
)
```

## AnimationPresets

## scaleAnimation

### Examples

```javascript
import { motion } from 'framer-motion';
import { scaleAnimation } from './animations';

// Use in a Framer Motion component
<motion.div initial={scaleAnimation.initial} animate={scaleAnimation.animate} exit={scaleAnimation.exit} transition={scaleAnimation.transition}>
  Content
</motion.div>
```

## fadeAnimation

### Examples

```javascript
import { motion } from 'framer-motion';
import { fadeAnimation } from './animations';

// Use in a Framer Motion component
<motion.div initial={fadeAnimation.initial} animate={fadeAnimation.animate} exit={fadeAnimation.exit} transition={fadeAnimation.transition}>
  Content
</motion.div>
```

## Band

Component for configuring a single band.

### Redux Store Interaction

The component dispatches the following Redux actions:

*   `changeBottomVal`: Action to change the bottom value of a band.
*   `changeTopVal`: Action to change the top value of a band.
*   `removeBand`: Action to remove a band.

### Parameters

*   `props` **[Object][89]** The props for Band.

    *   `props.id` **[number][88]** The ID of the band.
    *   `props.colour` **[string][90]** The color of the band.
    *   `props.top` **[number][88]** The top value of the band.
    *   `props.bottom` **[number][88]** The bottom value of the band.
    *   `props.activeIndex` **[number][88]** The index of the active band.
    *   `props.setActiveIndex` **[Function][93]** Function to set the active band index.

### Examples

```javascript
const band = { id: 1, colour: 'red', top: 1000, bottom: 1 };
return (
  <Band
    id={band.id}
    colour={band.colour}
    top={band.top}
    bottom={band.bottom}
    activeIndex={0}
    setActiveIndex={() => {}}
  />
)
```

## BandColour

Component for selecting a band color.

### Redux Store Interaction

The component dispatches the following Redux actions:

*   `changeColour`: Action to change the color of a band.

### Dependencies

This component depends on the `ChromePicker` component from the `react-color` library to provide a color picker interface.

### Parameters

*   `props` **[Object][89]** The props for BandColour.

    *   `props.id` **[number][88]** The ID of the band.
    *   `props.colour` **[string][90]** The current color of the band.
    *   `props.activeIndex` **[number][88]** The index of the active band.
    *   `props.setActiveIndex` **[Function][93]** Function to set the active band index.

### Examples

```javascript
return (
  <BandColour id={1} colour="red" activeIndex={0} setActiveIndex={() => {}} />
)
```

## NewBand

Component for adding a new band.

### Redux Store Interaction

The component dispatches the following Redux actions:

*   `addBand`: Action to add a new band.

### Examples

```javascript
return (
  <NewBand />
)
```

## DialogBox

Generic dialog box component.

### Parameters

*   `props` **[Object][89]** The props for DialogBox.

    *   `props.header` **JSX.Element** The header content of the dialog box.
    *   `props.content` **JSX.Element** The main content of the dialog box.
    *   `props.active` **[boolean][92]** Whether the dialog box is active.
    *   `props.onClose` **[Function][93]** Function to close the dialog box.

### Examples

```javascript
[showDialog, setShowDialog] = useState(false)

return (
  <DialogBox
    active={showDialog}
    onClose={() => setShowDialog(false)}
    header={<h1>Header</h1>}
    content={<p>Content</p>}
  />
)
```

## ApiSettings

Component for API settings dialog.

### Parameters

*   `$0` **[Object][89]**&#x20;

    *   `$0.active` &#x20;
    *   `$0.onClose` &#x20;

### Examples

```javascript
return (
  <ApiSettings />
)
```

## FileUpload

Component for uploading a file to set stop words in the Redux store.

### Redux Store Interaction

The component dispatches the following Redux actions:

*   `setStopWords`: Action to set the stop words in the Redux store.

### Examples

```javascript
return (
  <FileUpload />
)
```

## FormattedOutput

Component for displaying the formatted output of the analyzed text in the Russian Word Profiler.
It highlights words based on their frequency band and allows synonym replacement.

### Redux Store Interaction

The component uses the following parts of the Redux store:

*   `bandsSlice.bands`: An array of band objects used to determine the color and activity status of words.
*   `text.tokens`: The tokens from the input text.
*   `text.wordData`: The data associated with each word, including synonyms.

The component dispatches the following Redux actions:

*   `reset`: Action to reset the stats slice.
*   `setLemmaFrequencyDict`: Action to set the frequency dictionary for lemmas.
*   `setBandFrequencyDict`: Action to set the frequency dictionary for bands.

### Examples

```javascript
return (
  <FormattedOutput />
)
```

## SynonymReplacer

Dialog box component used to replace a selected word with one of its synonyms.

### Redux Store Interaction

The component uses the following parts of the Redux store:

*   `bandsSlice.bands`: An array of band objects used here to determine the colour of synonyms based on their rank.

The component dispatches the following Redux actions:

*   `changeWord`: Action to update the selected word in the Redux store.

### Parameters

*   `props` **[Object][89]** The props for SynonymReplacer.

    *   `props.active` **[boolean][92]** Whether the dialog box is active.
    *   `props.onClose` **[Function][93]** Function to close the dialog box.
    *   `props.selectedWord` **[Object][89]** The currently selected word and its details.

        *   `props.selectedWord.index` **[number][88]** The index of the selected word.
        *   `props.selectedWord.word` **[string][90]** The selected word.
        *   `props.selectedWord.colour` **[string][90]** The colour of the selected word.
        *   `props.selectedWord.synonyms` **[Array][91]** The list of synonyms for the selected word.

### Examples

```javascript
const selectedWord = {
  index: 1,
  word: 'example',
  colour: 'blue',
  synonyms: [
    { synonym: 'sample', rank: 1, lemma: 'sample' },
    { synonym: 'instance', rank: 2, lemma: 'instance' },
  ]
};
return (
  <SynonymReplacer active={true} onClose={() => {}} selectedWord={selectedWord} />
)
```

## DistributionDisplay

Component for displaying distribution data.

### Redux Store Interaction

The component uses the following parts of the Redux store:

*   `statsSlice.bandFrequencyDict`: Frequency dictionary for bands.

### Examples

```javascript
return (
  <DistributionDisplay />
)
```

## DownloadButton

Component for a download button that triggers downloading of data in XLS format.

### Parameters

*   `props` **[Object][89]** The props for DownloadButton.

    *   `props.data` **[Array][91]** The data to be downloaded.
    *   `props.filename` **[string][90]** The base filename for the downloaded file.
    *   `props.text` **[string][90]** The text displayed on the download button.

### Examples

```javascript
const data = [{ name: "John", age: 30 }, { name: "Jane", age: 25 }];
return (
  <DownloadButton data={data} filename="data" text="Download Data" />
)
```

## BandBar

Generic component for displaying a bar representing a band. Shows a tooltip with the total number of words on hover.

### Parameters

*   `props` **[Object][89]** The props for BandBar.

    *   `props.index` **[number][88]** The index of the band bar.
    *   `props.total` **[number][88]** The total number of words in the band.
    *   `props.width` **[string][90]** The width of the band bar.
    *   `props.colour` **[string][90]** The color of the band bar.

### Examples

```javascript
return (
  <BandBar index={0} total={100} width="50%" colour="red" />
)
```

## CoverageDisplay

Component for displaying coverage data.

### Redux Store Interaction

The component uses the following parts of the Redux store:

*   `statsSlice.bandFrequencyDict`: Frequency dictionary for bands.

### Examples

```javascript
return (
  <CoverageDisplay />
)
```

## LemmaTable

Component for displaying lemma table data.

### Redux Store Interaction

The component uses the following parts of the Redux store:

*   `statsSlice.lemmaFrequencyDict`: Frequency dictionary for lemmas.

### Examples

```javascript
return (
  <LemmaTable />
)
```

## ReduxStoreTextSlice

Redux slice for managing text-related state, including the raw text, tokenized text, stop words, and word data.

### setWordData

Sets the word data returned by the API.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing payload with the new word data.

#### Examples

```javascript
dispatch(setWordData({ 'word': { rank: 1, lemma: 'example', synonyms: [] }}));
```

### setText

Sets the raw text, tokenizes it, and updates the words and tokens in the state.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing payload with the new text.

#### Examples

```javascript
dispatch(setText("Hello world"));
```

### setStopWords

Sets the stop words to be ignored by the API.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing payload with the new stop words.

#### Examples

```javascript
dispatch(setStopWords(["the", "and"]));
```

### changeWord

Changes a word in the tokenized text to a synonym and updates the relevant state.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing payload with the index of the word to change, the new word, its rank, and lemma.

#### Examples

```javascript
dispatch(changeWord({ index: 1, newWord: 'hi', newWordRank: 2, newWordLemma: 'hi' }));
```

## ReduxStoreFrequencyBandsSlice

Redux slice for managing frequency bands, including their colors, values, and active states.

### changeColour

Changes the color of a specified band.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing payload with target band and new color.

#### Examples

```javascript
dispatch(changeColour({ target: 1, colour: '#000000' }));
```

### changeTopVal

Changes the top value of a specified band and adjusts the bottom value of the next band.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing payload with target band and new top value.

#### Examples

```javascript
dispatch(changeTopVal({ target: 2, newVal: 2000 }));
```

### changeBottomVal

Changes the bottom value of a specified band and adjusts the top value of the previous band.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing payload with target band and new bottom value.

#### Examples

```javascript
dispatch(changeBottomVal({ target: 3, newVal: 3000 }));
```

### removeBand

Removes a specified band and adjusts the pointers of adjacent bands.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing payload with the target band to be removed.

#### Examples

```javascript
dispatch(removeBand(4));
```

### toggleActive

Toggles the active state of a specified band.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing payload with the target band.

#### Examples

```javascript
dispatch(toggleActive(5));
```

### addBand

Adds a new band to the state.

#### Parameters

*   `state` &#x20;

#### Examples

```javascript
dispatch(addBand());
```

### saveBands

Adds a new band to the state.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.

#### Examples

```javascript
dispatch(addBand());
```

## ReduxStorestatsSlice

Redux slice for managing statistics-related state, including bands, table data, coverage data, distribution data, and frequency dictionaries.

### reset

Resets the `bands` array to an empty array.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing the reset action.

#### Examples

```javascript
dispatch(reset());
```

### setBandFrequencyDict

Sets the band frequency dictionary.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing payload with the new band frequency dictionary.

#### Examples

```javascript
dispatch(setBandFrequencyDict({ band1: 100, band2: 200 }));
```

### setLemmaFrequencyDict

Sets the lemma frequency dictionary.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing payload with the new lemma frequency dictionary.

#### Examples

```javascript
dispatch(setLemmaFrequencyDict({ lemma1: 50, lemma2: 75 }));
```

### setNotInList

Sets the not in list data.

#### Parameters

*   `state` **[Object][89]** The current state of the Redux store, provided automatically.
*   `action` **[Object][89]** The action object containing payload with the new not in list data.

#### Examples

```javascript
dispatch(setNotInList(['word1', 'word2']));
```

[1]: #functions

[2]: #whichband

[3]: #converttocsv

[4]: #downloadcsv

[5]: #downloadxls

[6]: #splittext

[7]: #app

[8]: #initialization

[9]: #examples-5

[10]: #maineditor

[11]: #redux-store-interaction

[12]: #parameters-5

[13]: #examples-6

[14]: #bandsbar

[15]: #redux-store-interaction-1

[16]: #api-interaction

[17]: #examples-7

[18]: #bandconfigpanel

[19]: #redux-store-interaction-2

[20]: #parameters-6

[21]: #examples-8

[22]: #animationpresets

[23]: #scaleanimation

[24]: #examples-9

[25]: #fadeanimation

[26]: #examples-10

[27]: #band

[28]: #redux-store-interaction-3

[29]: #parameters-7

[30]: #examples-11

[31]: #bandcolour

[32]: #redux-store-interaction-4

[33]: #dependencies-1

[34]: #parameters-8

[35]: #examples-12

[36]: #newband

[37]: #redux-store-interaction-5

[38]: #examples-13

[39]: #dialogbox

[40]: #parameters-9

[41]: #examples-14

[42]: #apisettings

[43]: #parameters-10

[44]: #examples-15

[45]: #fileupload

[46]: #redux-store-interaction-6

[47]: #examples-16

[48]: #formattedoutput

[49]: #redux-store-interaction-7

[50]: #examples-17

[51]: #synonymreplacer

[52]: #redux-store-interaction-8

[53]: #parameters-11

[54]: #examples-18

[55]: #distributiondisplay

[56]: #redux-store-interaction-9

[57]: #examples-19

[58]: #downloadbutton

[59]: #parameters-12

[60]: #examples-20

[61]: #bandbar

[62]: #parameters-13

[63]: #examples-21

[64]: #coveragedisplay

[65]: #redux-store-interaction-10

[66]: #examples-22

[67]: #lemmatable

[68]: #redux-store-interaction-11

[69]: #examples-23

[70]: #reduxstoretextslice

[71]: #setworddata

[72]: #settext

[73]: #setstopwords

[74]: #changeword

[75]: #reduxstorefrequencybandsslice

[76]: #changecolour

[77]: #changetopval

[78]: #changebottomval

[79]: #removeband

[80]: #toggleactive

[81]: #addband

[82]: #savebands

[83]: #reduxstorestatsslice

[84]: #reset

[85]: #setbandfrequencydict

[86]: #setlemmafrequencydict

[87]: #setnotinlist

[88]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[89]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[90]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[91]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[92]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[93]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

<!-- apistop -->
